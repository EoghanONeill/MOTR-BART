url
url <- 'https://github.com/ebprado/Git_Hub_Estevao/blob/master/Databases_package/'
read.csv(paste(url, 'Allowance_198806_201903.csv' , sep=''))
paste(url, 'Allowance_198806_201903.csv' , sep='')
read.csv(paste(url, 'Allowance_198806_201903.csv' , sep=''), sep = ';', header = T, na.strings = c('-'))
https://github.com/ebprado/Git_Hub_Estevao/blob/master/Databases_package/Allowance_198806_201903.csv
paste(url, 'Allowance_198806_201903.csv' , sep='')
read.csv(text=paste0(url, 'Allowance_198806_201903.csv' , sep=''), sep = ';', header = T, na.strings = c('-'))
paste0(url, 'Allowance_198806_201903.csv' , sep='')
url = paste0('http://data.giss.nasa.gov/gistemp/tabledata_v3/',arg,'.Ts+dSST.csv')
read.csv(url)
read.csv(url, header=T)
url
url = paste0('http://data.giss.nasa.gov/gistemp/tabledata_v3/.Ts+dSST.csv')
read.csv(url)
library(tibble)
install.packages("readr")
library(readr)
read_csv(paste0(url, 'Allowance_198806_201903.csv' , sep=''))
read_csv(paste0(url, 'Allowance_198806_201903.csv' , sep=''), progress = FALSE)
url
url <- 'https://github.com/ebprado/Git_Hub_Estevao/blob/master/Databases_package/'
paste0(url, 'Allowance_198806_201903.csv' , sep='')
read_csv(paste0(url, 'Allowance_198806_201903.csv' , sep=''), progress = FALSE)
read_csv(paste0(url, 'Allowance_198806_201903.csv' , sep=''), progress = FALSE, skip = 1, na = '-')
url
paste0(url, 'Allowance_198806_201903.csv' , sep='')
read_csv(paste0(url, 'Allowance_198806_201903.csv' , sep=''), progress = FALSE, skip = 1, na = '-')
paste0(url, 'Allowance_198806_201903.csv' , sep='')
read.csv("http://apps.fs.fed.us/fiadb-downloads/CSV/LICHEN_SPECIES_SUMMARY.csv")
read_csv(url(paste0(url, 'Allowance_198806_201903.csv' , sep='')), progress = FALSE, skip = 1, na = '-')
getwf()
getwd()
build()
load_all()
test()
check()
document()
library(test)
library(ggplot2)
library(ggplot2)
library(ggplot2)
build()
load_all()
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(test)
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
library(test)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
build()
library(devtools)
build()
load_all()
library(test)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
build()
load_all()
library(test)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
rm(list=ls())
library(devtools)
library(roxygen2)
build()
load_all()
test()
check()
build()
unlink('~/OneDrive - Maynooth University/My_package/test/vignettes/my-vignette_cache', recursive = TRUE)
library(devtools)
build()
load_all()
document()
test()
check()
build()
load_all()
test()
check()
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(test)
# fig.cap='Time series of the credit indicator of the public and private banks in Brazil. The information was obtained in the site of the Central Bank of Brazil.',
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
library(test)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
library(devtools)
build()
build()
library(test)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
load_all()
build()
document()
library(roxygen2)
test()
check()
library(test)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
library(test)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
library(test)
library(test)
library(devtools)
build()
library(devtools)
build()
library(devtools)
build()
build()
library(devtools)
build()
library(devtools)
build()
load_all()
document()
library(roxygen2)
test()
getwd()
set("/Users/estevaoprado/OneDrive - Maynooth University/My_package/CredInd/R")
setwd("/Users/estevaoprado/OneDrive - Maynooth University/My_package/CredInd/R")
build()
load_all()
document()
test()
build()
load_all()
test()
build()
load_all()
test()
check()
library(devtools)
build()
load_all()
test()
check()
getwd()
library(devtools)
build()
load_all()
document()
library(roxygen2)
test()
check()
library(CredInt)
library(devtools)
build()
load_all()
document()
library(roxygen2)
test()
check()
library(CredInt)
check()
library(devtools)
build()
getwd()
getwd()
library(devtools)
build()
load_all()
test()
check()
library(devtools)
build()
load_all()
test()
check()
library(CredInt)
library(devtools)
build()
load_all()
document()
library(CredInt)
library(CredInt)
rm(list=ls())
library(CredInt)
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
model1
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
plot_FitModels(model1)
build()
load_all()
test()
check()
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
plot_FitModels(model1)
data2 <- ReadData(Indicator = 'Spread', Index = 'Total')
model2 <- FitModels(data = data1, horizon=20)
plot_FitModels(model2)
data2 <- ReadData(Indicator = 'Spread', Index = 'Total')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
data2 <- ReadData(Indicator = 'Allowance', Index = 'Total')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
data2 <- ReadData(Indicator = 'Spread', Index = 'Total')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
data2 <- ReadData(Indicator = 'Spread', Index = 'Total')
model2 <- FitModels(data = data2, horizon=20)
model2
library(CredInt)
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
model2
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(CredInd)
build()
load_all()
test()
document()
library(CredInt)
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
plot_FitModels(model1)
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
model1
build()
load_all()
test
test()
check()
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
plot_FitModels(model1)
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
getwd()
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
pdf(paste(SaveFigures,'Interest_rate_total.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model1)
dev.off()
SaveFigures <- "/Users/estevaoprado/OneDrive - Maynooth University/My_package/Presentation"
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
pdf(paste(SaveFigures,'Interest_rate_total.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model1)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
pdf(paste(SaveFigures,'Spread_new_oper_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
pdf(paste(SaveFigures,'Spread_new_oper_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
pdf(paste(SaveFigures,'Spread_new_oper_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
dev.off()
dev.off()
SaveFigures <- "/Users/estevaoprado/OneDrive - Maynooth University/My_package/Presentation"
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
pdf(paste(SaveFigures,'Interest_rate_total.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model1)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
pdf(paste(SaveFigures,'Spread_new_oper_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
pdf(paste(SaveFigures,'Spread_new_oper_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
pdf(paste(SaveFigures,'Spread_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
SaveFigures <- "/Users/estevaoprado/OneDrive - Maynooth University/My_package/Presentation/"
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
pdf(paste(SaveFigures,'Interest_rate_total.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model1)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
pdf(paste(SaveFigures,'Spread_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
plot_FitModels(model2)
dev.off()
dev.off()
pdf(paste(SaveFigures,'Spread_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
library(devt§)
library(devtools)
build()
load_all()
test()
check()
document()
library(CredInd)
detach("package:CredInt", unload=TRUE)
remove.packages("CredInt")
build()
check()
check()
document()
library(CredInd)
library(CredInd)
library(devtools)
build()
library(devtools)
build()
library(devtools)
build()
rm(list=ls())
build()
library(devtools)
build()
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(CredInd)
# Examples
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=50)
plot_FitModels(model)
build()
build()
load_all()
document()
test()
check()
library(devtools)
build()
load_all()
test()
library(roxygen2)
check()
document()
library(CredInd)
data0 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model <- FitModels(data=data0, horizon=20)
plot_FitModels(model)
library(CredInd)
library(ggplot2)
# ReadData(Indicator = 'bababa rate', Index = 'Total')
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
# ReadData(Indicator = 'Interest rate', Index = 'New operations companies')
# ReadData(Indicator = 'Interest rate', Index = 'New operations households')
# ReadData(Indicator = 'Interest rate', Index = 'Non-revolving total')
# ReadData(Indicator = 'Interest rate', Index = 'Non-revolving companies')
# ReadData(Indicator = 'Interest rate', Index = 'Non-revolving households')
#
# ReadData(Indicator = 'Spread', Index = 'Total')
# ReadData(Indicator = 'Spread', Index = 'New operations companies')
# ReadData(Indicator = 'Spread', Index = 'New operations households')
# ReadData(Indicator = 'Spread', Index = 'Non-revolving total')
# ReadData(Indicator = 'Spread', Index = 'Non-revolving companies')
# ReadData(Indicator = 'Spread', Index = 'Non-revolving households')
#
# ReadData(Indicator = 'Household debt', Index = 'Total')
# ReadData(Indicator = 'Household debt', Index = 'Without mortgage')
#
# ReadData(Indicator = 'Allowance', Index = 'Total')
# ReadData(Indicator = 'Allowance', Index = 'Public banks')
# ReadData(Indicator = 'Allowance', Index = 'National private control')
# ReadData(Indicator = 'Allowance', Index = 'Foreign control')
# ReadData(Indicator = 'Allowance', Index = 'Private control')
SaveFigures <- "/Users/estevaoprado/OneDrive - Maynooth University/My_package/Presentation/"
data1 <- ReadData(Indicator = 'Interest rate', Index = 'Total')
model1 <- FitModels(data = data1, horizon=20)
pdf(paste(SaveFigures,'Interest_rate_total.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model1)
dev.off()
data2 <- ReadData(Indicator = 'Spread', Index = 'New operations households')
model2 <- FitModels(data = data2, horizon=20)
pdf(paste(SaveFigures,'Spread_household.pdf', sep = ''), width = 8, height = 6)
plot_FitModels(model2)
dev.off()
################################################################
library(dplyr)
library(reshape2)
ReadData <- function(Indicator, Index) {
setwd("/Users/estevaoprado/OneDrive - Maynooth University/My_package/CredInd/R")
Aux_files <- c('Allowance_198806_201903.csv',
'90_past_due_loans_201103_201903.csv',
'90_past_due_loans_by_origin_capital_20003_201903.csv',
'Average_spread_yearly_201103_201903.csv',
'House_debt_200501_201903.csv',
'Interest_rates_yearly_201103_201903.csv')
Aux_info <- c('Allowance',
'Due loans',
'Due loans by capital',
'Spread',
'Household debt',
'Interest rate')
Index_aux = ''
if (Indicator == 'Allowance' && Index=='Total')                   {Index_aux = 'X13645'} else
if (Indicator == 'Allowance' && Index=='Public banks')            {Index_aux = 'X13666'} else
if (Indicator == 'Allowance' && Index=='National private control'){Index_aux = 'X13672'} else
if (Indicator == 'Allowance' && Index=='Foreign control')         {Index_aux = 'X13678'} else
if (Indicator == 'Allowance' && Index=='Private control')         {Index_aux = 'X13684'}
if (Indicator == 'Spread' && Index=='Total')                      {Index_aux = 'X20783'} else
if (Indicator == 'Spread' && Index=='New operations companies')   {Index_aux = 'X20784'} else
if (Indicator == 'Spread' && Index=='New operations households')  {Index_aux = 'X20785'} else
if (Indicator == 'Spread' && Index=='Non-revolving total')        {Index_aux = 'X27631'} else
if (Indicator == 'Spread' && Index=='Non-revolving companies')    {Index_aux = 'X27632'} else
if (Indicator == 'Spread' && Index=='Non-revolving households')   {Index_aux = 'X27633'}
if (Indicator == 'Household debt' && Index=='Total')                  {Index_aux = 'X20400'} else
if (Indicator == 'Household debt' && Index=='Without mortgage')       {Index_aux = 'X19882'}
if (Indicator == 'Interest rate' && Index=='Total')                     {Index_aux = 'X20714'} else
if (Indicator == 'Interest rate' && Index=='New operations companies')  {Index_aux = 'X20715'} else
if (Indicator == 'Interest rate' && Index=='New operations households') {Index_aux = 'X20716'} else
if (Indicator == 'Interest rate' && Index=='Non-revolving total')       {Index_aux = 'X27623'} else
if (Indicator == 'Interest rate' && Index=='Non-revolving companies')   {Index_aux = 'X27624'} else
if (Indicator == 'Interest rate' && Index=='Non-revolving households')  {Index_aux = 'X27625'}
if (Index_aux == '') {stop("ERROR: At least one of the parameters (Indicator or Index) was misspelled. Check it out and try again.")}
aux <- as.data.frame(cbind(Aux_files, Aux_info))
# Selecting the databaset associated to the indicator
NamesFiles <- aux %>% filter(Aux_info==Indicator) %>% select(Aux_files)
# Reading the data and deleting the last row
db <- read.csv(text=paste0(head(readLines(paste('',NamesFiles[1,1],'', sep ='')), -1), collapse="\n"), sep = ';', header=T, na.strings = c('-'))
# Changing the names of the columns
names(db) <- c(substr(names(db),1,6))
# Transposing the data
db <- db %>%
melt(id.vars = c('Date'), na.rm = T)
# %>%
# filter(variable == Index_aux)
# db$variable <- paste(Indicator,'-', Index)
db$Date <- as.Date(paste('01/', as.character(db$Date), sep = ''), format = '%d/%m/%Y')
final_list <- list(data = db)
class(final_list) = 'CredInd'
return(final_list)
}
# Interest rate --------
aux <- ReadData(Indicator = 'Interest rate', Index = 'New operations companies')
db <- aux$data
pdf(paste(SaveFigures,'Intro_interest_rate.pdf', sep = ''), width = 8, height = 6)
ggplot(db, aes(x = Date, y = value)) +
geom_line(aes(color = variable)) +
labs(title = paste('Times series for Interest rate'),
subtitle = 'Information from the Central Bank of Brazil',
x = 'Date',
y = 'Interest rate (% per year)') +
theme(plot.title = element_text(size=18),
legend.position = 'top') +
scale_color_discrete(name = "Indicator", labels = c("Total", "New operations companies", "New operations households", 'Non-revolving total', 'Non-revolving companies', 'Non-revolving households'))
dev.off()
# Spread --------
aux <- ReadData(Indicator = 'Spread', Index = 'New operations companies')
db <- aux$data
pdf(paste(SaveFigures,'Intro_spread.pdf', sep = ''), width = 8, height = 6)
ggplot(db, aes(x = Date, y = value)) +
geom_line(aes(color = variable)) +
labs(title = paste('Times series for Spread'),
subtitle = 'Information from the Central Bank of Brazil',
x = 'Date',
y = 'Spread (% percentage point)') +
theme(plot.title = element_text(size=18),
legend.position = 'top') +
scale_color_discrete(name = "Indicator", labels = c("Total", "New operations companies", "New operations households", 'Non-revolving total', 'Non-revolving companies', 'Non-revolving households'))
dev.off()
